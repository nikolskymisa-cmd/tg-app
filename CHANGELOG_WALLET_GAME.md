# ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ö–æ—à–µ–ª–µ–∫ –∏ –ò–≥—Ä–∞ Flappy Bird

## üéâ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### üí∞ –°–∏—Å—Ç–µ–º–∞ –ö–æ—à–µ–ª—å–∫–∞

**–ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î:**
- `wallets` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `wallet_transactions` - –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- `game_scores` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ db.js:**
- `getOrCreateWallet(userId)` - –ø–æ–ª—É—á–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–æ—à–µ–ª–µ–∫
- `getWallet(userId)` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å
- `addBalance(userId, amount, description)` - –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
- `spendBalance(userId, amount, description)` - –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –º–æ–Ω–µ—Ç—ã
- `getWalletHistory(userId, limit)` - –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π

**–ù–æ–≤—ã–µ API endpoints:**
- `GET /wallet/balance` - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
- `POST /wallet/topup` - –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
- `GET /wallet/history` - –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- `POST /wallet/spend` - –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –º–æ–Ω–µ—Ç—ã

**Frontend:**
- –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "üí∞ –ö–æ—à–µ–ª–µ–∫"
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- –§–æ—Ä–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ (–±—ã—Å—Ç—Ä—ã–µ —Å—É–º–º—ã + —Å–≤–æ—è —Å—É–º–º–∞)
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

### üéÆ –ò–≥—Ä–∞ Flappy Bird

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ db.js:**
- `addGameScore(userId, score, coinsEarned)` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤—ã–¥–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É
- `getTopScores(limit)` - –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤

**–ù–æ–≤—ã–µ API endpoints:**
- `POST /game/score` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã –∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É
- `GET /game/leaderboard` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ø 20 –∏–≥—Ä–æ–∫–æ–≤

**Frontend:**
- –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "üéÆ –ò–≥—Ä–∞"
- –ò–≥—Ä–∞ Flappy Bird –Ω–∞ Canvas
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –∫–ª–∏–∫ –º—ã—à—å—é –∏–ª–∏ –ø—Ä–æ–±–µ–ª –¥–ª—è –ø—Ä—ã–∂–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—á–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã

**–°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥:**
```
–§–æ—Ä–º—É–ª–∞: coinsEarned = floor(score / 10)
–ú–∏–Ω–∏–º—É–º: 1 –º–æ–Ω–µ—Ç–∞

–ü—Ä–∏–º–µ—Ä—ã:
10 –æ—á–∫–æ–≤ = 1 –º–æ–Ω–µ—Ç–∞
50 –æ—á–∫–æ–≤ = 5 –º–æ–Ω–µ—Ç
100 –æ—á–∫–æ–≤ = 10 –º–æ–Ω–µ—Ç
250 –æ—á–∫–æ–≤ = 25 –º–æ–Ω–µ—Ç
```

---

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ü–∏–∫–ª

1. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** - –¥–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—á–µ—Ç
2. **–ò–≥—Ä–∞** - –ø–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç—ã –∑–∞ –æ—á–∫–∏
3. **–ü–æ–∫—É–ø–∫–∞ VPN** - –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –º–æ–Ω–µ—Ç—ã –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ 50 –º–æ–Ω–µ—Ç:**
```bash
POST /wallet/topup
{"amount": 50, "method": "card"}
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–≥—Ä—ã (125 –æ—á–∫–æ–≤):**
```bash
POST /game/score
{"score": 125, "game": "flappy_bird"}
# –ü–æ–ª—É—á–∏—Ç: 12 –º–æ–Ω–µ—Ç
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞:**
```bash
GET /wallet/balance
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏:**
```bash
GET /wallet/history
```

**–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤:**
```bash
GET /game/leaderboard
```

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
- **db.js** (+90 —Å—Ç—Ä–æ–∫)
  - –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
  - –§—É–Ω–∫—Ü–∏–∏ –∫–æ—à–µ–ª—å–∫–∞ –∏ –∏–≥—Ä—ã

- **server.js** (+120 —Å—Ç—Ä–æ–∫)
  - 6 –Ω–æ–≤—ã—Ö endpoints
  - API –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞ –∏ –∏–≥—Ä—ã

### Frontend
- **public/index.html** (+400 —Å—Ç—Ä–æ–∫)
  - CSS –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞ –∏ –∏–≥—Ä—ã
  - –î–≤–µ –Ω–æ–≤—ã–µ –≤–∫–ª–∞–¥–∫–∏
  - Flappy Bird –∏–≥—Ä–∞ –Ω–∞ Canvas (~200 —Å—Ç—Ä–æ–∫)
  - JavaScript —Ñ—É–Ω–∫—Ü–∏–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **WALLET_GAME_GUIDE.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **WALLET_GAME_API.md** - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3000
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏:

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "üí∞ –ö–æ—à–µ–ª–µ–∫"
2. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ –ª—é–±—É—é —Å—É–º–º—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "üéÆ –ò–≥—Ä–∞"
4. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä–∞—Ç—å –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –º–æ–Ω–µ—Ç—ã!
```

### –ù–∞ production (Render)

–ò–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏—Å—å –Ω–∞ https://tg-app-2n4r.onrender.com

---

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∏–≥—Ä (Snake, 2048, –∏ —Ç.–¥.)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –±–æ–Ω—É—Å–æ–≤
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
- ‚úÖ –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä —Ä–µ–∂–∏–º
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –¥–µ–Ω–µ–≥

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ (–Ω–µ –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)
- ‚úÖ –ë–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã! üéÆüí∞
